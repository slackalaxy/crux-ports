# Description: RStudio is an integrated development environment (IDE) for R
# URL: https://posit.co/download/rstudio-desktop/
# Maintainer: Petar Petrov, slackalaxy at gmail dot com
# Depends on: alsa-lib avahi brotli cups gnutls graphite2 gtk3 icu libdeflate libidn2 libxkbcommon nss r wayland xorg-libxcomposite xorg-libxcursor xorg-libxinerama
# Optional: r4-learnr

name=rstudio-desktop
version=2025.09.0+387
release=2
source=(https://download1.rstudio.org/electron/rhel9/x86_64/rstudio-${version/+/-}-x86_64.rpm
	rstudio.sh)

build() {
	cp -a $SRC/usr $PKG

	install -D -m755 $SRC/rstudio.sh $PKG/usr/bin/rstudio
	
	find $PKG/ -name "*README*" -delete
	find $PKG/ -name "*COPYING*" -delete
	find $PKG/ -name "*INSTALL*" -delete

	sed -i "s:/usr/lib/rstudio/rstudio:rstudio:" $PKG/usr/share/applications/rstudio.desktop
	sed -i "s:Development:Education:" $PKG/usr/share/applications/rstudio.desktop
}
